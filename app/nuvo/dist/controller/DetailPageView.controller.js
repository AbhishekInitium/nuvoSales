sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/Fragment","sap/ui/model/json/JSONModel","sap/m/MessageBox"],(e,t,o,n)=>{"use strict";return e.extend("nuvo.controller.DetailPageView",{onInit:function(){const e=new o({CustomerMasterList:[],getCustomerBasicDetail:[],CustID:"",isButtonVisible:false});this.getView().setModel(e,"localModel");const t=this.getOwnerComponent().getModel().getServiceUrl();const n=this.getView().getModel("localModel");$.ajax({type:"POST",contentType:"application/json",url:t+"getCustomerList",success:function(e){console.log("Success:",e.value.value);n.setProperty("/CustomerMasterList",e.value.value)}});var s=this.getOwnerComponent().getRouter();s.getRoute("detailPageRoute").attachPatternMatched(this._onRouteMatched,this)},_onRouteMatched:function(e){const t=this.getView().getModel("localModel");t.refresh();const o=this.getView().byId("customerInput");o.setValue("")},_refreshPageData:function(){const e=this.getView().getModel("localModel");e.refresh()},onValueHelpSearch1:function(e){const t=e.getParameter("value").toLowerCase();const o=e.getSource().getBinding("items");const n=new sap.ui.model.Filter({filters:[new sap.ui.model.Filter("CustomerName",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Customer",sap.ui.model.FilterOperator.Contains,t)],and:false});o.filter(n)},handleValueHelp:function(e){var o=e.getSource().getValue(),n=this.getView();this._sInputId=e.getSource().getId();if(!this._pValueHelpDialog){this._pValueHelpDialog=t.load({id:n.getId(),name:"nuvo.fragments.CustomerList",controller:this}).then(function(e){n.addDependent(e);return e})}this._pValueHelpDialog.then(function(e){e.open()})},onPressValuHelp:function(e){const t=this.getView().getModel("localModel");const o=e.getParameter("selectedItem");if(o){const e=o.mProperties.title;const s=o.mProperties.description;t.setProperty("/CustID",s);const r=this.getView().byId("customerInput");r.setValue(e);var n=this.getOwnerComponent().getModel("globalModel");this.getOwnerComponent().getRouter(this).navTo("MainTabsPageRoute",{CustomerName:e,CustomerID:s});n.setProperty("/keys",{CustomerName:e,CustomerID:s})}const s=this.getOwnerComponent().getModel().getServiceUrl();const r=t.getProperty("/CustID")},handleProceed:function(){var e=this.getOwnerComponent().getRouter();e.navTo("MainTabsPageRoute")},handleProceed2:function(){var e=this.getOwnerComponent().getRouter();e.navTo("MainTabsPageRouteOption2")},onCreatesalesorder:function(e){const t=this.getView().getModel("localModel");const o=this.getOwnerComponent().getModel().getServiceUrl();let n={SalesOrderType:"TA",SoldToParty:"17100001"};$.ajax({type:"POST",contentType:"application/json",url:o+"PostSalesOrderData",data:JSON.stringify(n),success:function(e,t){},error:function(){}})},onGeneratePDF:function(){var e={content:[{text:"Sales Order Details",style:"header"},{text:"Customer: John Doe",margin:[0,10,0,5]},{text:"Order ID: 12345",margin:[0,0,0,10]},{table:{body:[["Material","Quantity","Price"],["Product A","10","$100"],["Product B","5","$50"]]}}],styles:{header:{fontSize:18,bold:true,alignment:"center"}}};pdfMake.createPdf(e).download("SalesOrder.pdf")}})});
//# sourceMappingURL=DetailPageView.controller.js.map